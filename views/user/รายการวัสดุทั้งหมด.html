<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <script src="https://code.jquery.com/jquery-1.9.1.min.js"></script>
    <title>ระบบเบิกจ่ายวัสดุสำนักวิชาเทคโนโลยีสารสนเทศ</title>
    <link rel="icon" type="image/x-icon" href="/img/Logo_IT.png" />

    <!-- Custom fonts for this template-->
    <link href="vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">
    <!-- Custom styles for this template-->
    <link href="/css/sb-admin-2.min.css" rel="stylesheet">




    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.20/css/dataTables.bootstrap4.min.css">
    <link rel="stylesheet" href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.bootstrap4.min.css">

    <!--Sweet alert-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/10.6.1/sweetalert2.min.css">

    <!--JQ + Bootstrap CDN-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"
        integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg=="
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.5.3/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"
        integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV"
        crossorigin="anonymous"></script>

    <!--Chart CDN-->
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">
    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.3.2/bootbox.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.20/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap4.min.js"></script>

    <!--Sweet alert CDN-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/10.6.1/sweetalert2.min.js"></script>

    <!--Pagination CDN-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.css"
        integrity="sha512-QmxybGIvkSI8+CGxkt5JAcGOKIzHDqBMs/hdemwisj4EeGLMXxCm9h8YgoCwIvndnuN1NdZxT4pdsesLXSaKaA=="
        crossorigin="anonymous" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.5/pagination.min.js"
        integrity="sha512-1zzZ0ynR2KXnFskJ1C2s+7TIEewmkB2y+5o/+ahF7mwNj9n3PnzARpqalvtjSbUETwx6yuxP5AJXZCpnjEJkQw=="
        crossorigin="anonymous"></script>


    <!-- font awesome -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.8/css/all.css">


    <!-- Core plugin JavaScript-->
    <script src="vendor/jquery-easing/jquery.easing.min.js"></script>

    <!-- Custom scripts for all pages-->
    <script src="js/sb-admin-2.min.js"></script>

</head>
<script>
    //array of select mian
    var selectArray = [
        { category: "กระดาษ" },
        { category: "เครื่องเขียน" },asdfasdfasdkjbfasdjkfnasdklfasdklfasdfasdfasdfasdfe
        { category: "เครื่องวัด" }
    ]

    //function selectCategory
    function selectCategory(selectArray, tb) {
        let option = ``;
        for (i in selectArray) {
            option += `<option>${selectArray[i].category}</option>`;
        }
        tb.html(tb.html() + option);
    }

    //function remove row 
    function deleteRow(id) {
        //alert(id);
        Swal.fire({
            title: 'Are you sure?',
            text: "You won't be able to revert this!",
            icon: 'warning',
            showCancelButton: true,
            confirmButtonColor: '#3085d6',
            cancelButtonColor: '#d33',
            confirmButtonText: 'Yes, delete it!'
        }).then((result) => {
            if (result.isConfirmed) {
                let table = document.querySelector('table');
                // Delete second row
                table.deleteRow(1);
                Swal.fire(
                    'Deleted!',
                    'Your file has been deleted.',
                    'success'
                )
            }
        })
    }

    $(document).ready(function () {

        let dataSet = [
            { IDlist: "1", List: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง", Addtopickup: "" },
            { IDlist: "2", List: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง", Addtopickup: "" },
            { IDlist: "3", List: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง", Addtopickup: "" },
            { IDlist: "4", List: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง", Addtopickup: "" },
            { IDlist: "5", List: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง", Addtopickup: "" },
            { IDlist: "6", List: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง", Addtopickup: "" }
        ]

        //Create table
        var table = $("#tb_products").DataTable({
            data: dataSet,
            columns: [
                { data: "IDlist", title: "ลำดับ" },
                { data: "List", title: "รายการ" },
                { data: "Category", title: "หมวดหมู่" },
                { data: "Amount", title: "จำนวน" },
                { data: "Unitcounte", title: "หน่วยนับ" },
                { defaultContent: "<button class='btn btn-success ml-2' id='btnAdd'>Add</button>", title: "เพิ่มลงรายการเบิก" }
            ]
        });

        //Delete button
        $("#tb_products tbody").on("click", ".btn-success", function () {
            // alert("test");
            //call modal
            $("#modalAdd").modal("show");
            $("#txtID").removeAttr('disabled');
            $("#txtID").val("");
            $("#txtName").val("");
            $("input[name='gender']").prop("checked", false);
            $("#txtMajor").val("");
            $("#txtSchool").val("");

            //add more info
            $("#btnSave").click(function () {

            });
        });

        //function create select
        let select_products = $("#SelectCG");
        select_products.html(select_products);
        selectCategory(selectArray, select_products);

        $("#btnRQ").click(function () {

            //call modal
            $("#modalRQ").modal("show");

        });

        ///array of table in modal
        var tabelinmodal = [
            { id: "1", list: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง" },
            { id: "2", list: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง" },
            { id: "3", list: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง" },
            { id: "4", list: "ที่ติดมุมพลาสติก", Category: "โฆษณา", Amount: "100", Unitcounte: "ถุง" },

        ]

        //funtion table
        function tablemodal(tabelinmodal, tb) {
            let row = ``;
            for (i in tabelinmodal) {
                row += `<tr><td>${tabelinmodal[i].id}</td><td>${tabelinmodal[i].list}</td><td>${tabelinmodal[i].Category}</td><td>${tabelinmodal[i].Amount}</td><td>${tabelinmodal[i].Unitcounte}</td><td><button class="btn second" onClick=deleteRow(${tabelinmodal[i].id})><i class="fa fa-trash"></i></button></td></tr>`;

            }
            tb.html(tb.html() + row);

        }

        //function create table modal
        let table_products = $("#tb_modal");
        let table_header = `<tr><th>ลำดับ</th><th>รายการ</th><th>หมวดหมู่</th><th>จำนวน</th><th>หน่วยนับ</th></tr>`;
        table_products.html(table_header);
        tablemodal(tabelinmodal, table_products);


        //function alert of confirm
        document.querySelector(".third").addEventListener('click', function () {
            Swal.fire("ดำเนินการเสร็จสิ้นแล้ว",
                "ผู้ขอเบิก: ดร.คิมดามี จันทร์ตา",
                "success");
        });


    });
</script>

<!-- Content Wrapper -->
<div id="content-wrapper" class="d-flex flex-column">

    <!-- Main Content -->
    <div id="content">

        <!-- Topbar -->
        <nav class="navbar navbar-expand navbar-light bg-white topbar static-top shadow">

            <!-- Sidebar Toggle (Topbar) -->
            <button id="sidebarToggleTop" class="btn btn-link d-md-none rounded-circle mr-3">
                <i class="fa fa-bars"></i>
            </button>

            <!-- Topbar Logo -->
            <div>
                <img class="" src="/img/Logo IT.png" width="60" height="50" alt="">
            </div>
            <div class="d-flex d-sm-inline-block mr-auto ml-md-3 mw-100">
                <!-- //ใส่โลโก่ -->
                <span><strong>ระบบเบิกจ่ายวัสดุสำนักวิชาเทคโนโลยีสารสนเทศ</strong></span>
                <br>
                <span><strong>มหาวิทยาลัยแม่ฟ้าหลวง</strong></span>

            </div>


            <!-- Topbar Navbar -->
            <ul class="navbar-nav ml-auto">
                <div class="topbar-divider d-none d-sm-block"></div>

                <!-- Nav Item - User Information -->
                <li class="nav-item dropdown no-arrow">
                    <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-toggle="dropdown"
                        aria-haspopup="true" aria-expanded="false">
                        <span class="mr-2 d-none d-lg-inline text-gray-600 small">P'Nim</span>
                        <img class="img-profile rounded-circle" src="img/undraw_profile.svg">
                    </a>
                    <!-- Dropdown - User Information -->
                    <div class="dropdown-menu dropdown-menu-right shadow animated--grow-in"
                        aria-labelledby="userDropdown">
                        <a class="dropdown-item" href="#">
                            <i class="fas fa-user fa-sm fa-fw mr-2 text-gray-400"></i>
                            หน้าข้อมูลส่วนตัว
                        </a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#" data-toggle="modal" data-target="#logoutModal">
                            <i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
                            ออกจากระบบ
                        </a>
                    </div>
                </li>

            </ul>

        </nav>
        <!-- End of Topbar -->

        <body id="page-top">

            <!-- Page Wrapper -->
            <div id="wrapper">

                <!-- Sidebar -->
                <ul class="navbar-nav sidebar sidebar-dark accordion" id="accordionSidebar"
                    style="background-color: #064767;">

                    <!-- Divider -->
                    <hr class="sidebar-divider my-0">

                    <!-- Nav Item - Dashboard -->
                    <li class="nav-item">
                        <a class="nav-link collapsed" href="#" data-toggle="collapse" data-target="#collapsePages"
                            aria-expanded="true" aria-controls="collapsePages">
                            <i class="fas fa-fw fa-folder"></i>
                            <span>ระบบวัสดุ</span>
                        </a>
                        <div id="collapsePages" class="collapse" aria-labelledby="headingPages"
                            data-parent="#accordionSidebar">
                            <div class="bg-white py-2 collapse-inner rounded">
                                <a class="collapse-item"
                                    href="/views/user/รายการวัสดุทั้งหมด.html">รายการวัสดุทั้งหมด</a>
                                <a class="collapse-item" href="/views/user/ตรวจสอบสถานะคำขอเบิก.html">ตรวจสถานะคำขอ</a>
                                <a class="collapse-item"
                                    href="/views/user/ประวัติการเบิกพัสดุ.html">ประวัติการเบิกวัสดุ</a>
                            </div>
                        </div>
                    </li>

                    <!-- Divider -->
                    <hr class="sidebar-divider d-none d-md-block">

                    <!-- Sidebar Toggler (Sidebar) -->



                </ul>
                <!-- End of Sidebar -->

                <!-- Logout Modal-->
                <div class="modal fade" id="logoutModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h5 class="modal-title" id="exampleModalLabel">Ready to Leave?</h5>
                                <button class="close" type="button" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">×</span>
                                </button>
                            </div>
                            <div class="modal-body">Select "Logout" below if you are ready to end your current session.
                            </div>
                            <div class="modal-footer">
                                <button class="btn btn-secondary" type="button" data-dismiss="modal">Cancel</button>
                                <a class="btn btn-primary" href="login.html">Logout</a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Topic -->
                <div class="container-fluid">
                    <h2 class="mt-3">รายการวัสดุทั้งหมด</h2>

                    <!-- dropdown (can't use)-->
                    <from>
                        <label>หมวดหมู่</label>
                        <select id="SelectCG" class="" style="border-radius: 10px 10px;">
                            <option value="0">Select</option>
                        </select>
                    </from>

                    <h6 class="mb-3">จำนวน รายการ</h6>
                    <!-- End Topic -->

                    <!-- Modal-->
                    <div class="modal fade" id="modalAdd" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"
                        aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title">แบบขอเบิกรายการวัสดุ</h5>
                                    <button type="button" class="close" data-dismiss="modal">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>

                                <div class="modal-body ">
                                    <div class="List">รายการ:ดินสอ</div>
                                    <div class="CG">หมวดหมู่:เครื่องเขียน</div>
                                    <div class="amount">จำนวน: <button>&#8722;</button><input class=" text-center"
                                            type="text" value=""><button>&#43;</button></div>
                                    <div class="Unit">หน่วยนับ:แท่ง</div>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">ยกเลิก</button>
                                    <button type="button" class="btn btn-primary" id="btnSave"
                                        data-dismiss="modal">เพิ่มลงตระกร้า</button>
                                </div>

                            </div>
                        </div>
                    </div>
                    <!-- Modal รายการขอเบิก -->
                    <div class="modal fade" id="modalRQ" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"
                        aria-hidden="true">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h3 class="modal-title">แบบขอเบิกรายการวัสดุ</h3>
                                    <button type="button" class="close" data-dismiss="modal">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>

                                <div class="modal-body ">
                                    <div class="container-fluid">
                                        <h5 class="modal-title">รายการวัสดุที่ต้องการเบิก</h5>
                                        <div class="card">
                                            <div class="card-body">
                                                <div class="table-responsive text-center">
                                                    <table class="tabel" id="tb_modal">

                                                    </table>
                                                </div>
                                            </div>
                                        </div>

                                        <form>
                                            <div class="form-group">
                                                <h5>วัตถุประสงค์</h5>
                                                <textarea class="form-control" id="message-text"></textarea>
                                            </div>
                                        </form>
                                    </div>
                                </div>

                                <div class="modal-footer">
                                    <button type="button" class="btn btn-secondary" data-dismiss="modal">ยกเลิก</button>
                                    <button type="button" class="btn btn-primary third" id="btnSave"
                                        data-dismiss="modal">ยืนยัน</button>
                                </div>

                            </div>
                        </div>
                    </div>

                    <class class="card">
                        <div class="card-body" style="box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);">

                            <!-- table -->
                            <table class="table text-center table-bordered" id="tb_products" width="100%"
                                cellspacing="0">
                                <div class="btnRq" style="float: right;">
                                    <button type="button" class="btn btn-secondary" id="btnRQ">รายการขอเบิก</button>
                                </div><br><br>
                            </table>
                        </div>
                </div>
                <!-- end table -->
            </div>
    </div>

    </body>

</html>